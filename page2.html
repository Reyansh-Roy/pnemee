<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Project Nemesis — Psychological Fingerprinting</title>
  <meta name="viewport" content="width=1024">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* General Layout */
    html, body {
      background: #090a0e;
      margin: 0; padding: 0; width: 100vw; height: 100vh;
      font-family: 'JetBrains Mono', monospace;
      color: #eee;
      overflow: hidden;
      position: relative;
    }
    body.blocked {
      filter: blur(10px) grayscale(1);
      pointer-events: none;
      user-select: none;
    }
    #mobile-warning {
      display: none;
      position: fixed; z-index: 99999;
      top: 0; left: 0; width: 100vw; height: 100vh;
      background: rgba(10,10,16,0.96);
      color: #ff4e4e;
      font-size: 2.2vw;
      font-weight: bold;
      justify-content: center; align-items: center;
      text-align: center;
      letter-spacing: 1px;
      backdrop-filter: blur(4px);
    }

    /* Glitch/Static BG (simple CSS + SVG overlay) */
    .bg-static {
      pointer-events: none;
      position: absolute;
      width: 100vw;
      height: 100vh;
      left: 0; top: 0;
      z-index: 1;
      opacity: 0.18;
      background: repeating-linear-gradient(
        115deg, #1d2026 0px, #1d2026 3px, #111214 4px, #111214 7px
      );
      mix-blend-mode: lighten;
      animation: flicker 2s infinite linear;
    }
    @keyframes flicker {
      0%,100% { opacity:0.19; }
      25% { opacity:0.13; }
      50% { opacity:0.22; }
      75% { opacity:0.17; }
    }
    /* Matrix data rain in corners */
    .matrix-corner {
      position: absolute; z-index: 2; font-size: 1.1vw;
      color: #18ffe3; opacity: 0.15;
      pointer-events: none;
      white-space: pre;
      font-family: 'Fira Mono', monospace;
      user-select: none;
      line-height: 1.1;
    }
    .matrix-corner.top-left { left:1vw; top:1vw; }
    .matrix-corner.bottom-right { right:1vw; bottom:1vw; text-align:right; }
    /* Main Container */
    .main-wrap {
      position: relative;
      z-index: 10;
      width: 100vw; height: 100vh;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
    }
    /* Timer */
    .nemesis-timer {
      position: absolute; top: 2vw; right: 3vw;
      background: rgba(25,28,40,0.93);
      color: #18ffe3;
      font-size: 1.45vw;
      letter-spacing: 1px;
      padding: 0.7vw 2vw;
      border-radius: 1vw;
      box-shadow: 0 0 30px 4px #18ffe388;
      font-family: 'JetBrains Mono', monospace;
      z-index: 25;
      border: 2px solid #00ffeeb0;
      text-shadow: 0 0 7px #00ffee, 0 0 1px #fff;
      user-select: none;
    }
    .timer-paused { opacity:0.7; filter: grayscale(0.8); }
    /* Centered Silhouette Visual */
    .silhouette-box {
      position: relative;
      display: flex; flex-direction: column; align-items: center;
      z-index: 10;
      margin-bottom: 2.2vw;
    }
    .silhouette-img {
      width: 330px; height: 330px;
      box-shadow: 0 0 60px 20px #111a2f, 0 0 160px 0 #0008;
      border-radius: 50%;
      filter: drop-shadow(0 0 24px #18ffe3) drop-shadow(0 0 32px #2e406f);
      background: rgba(0,0,0,0.8);
      position: relative;
      z-index: 4;
      animation: glowPulse 2.6s infinite alternate;
    }
    @keyframes glowPulse {
      from { box-shadow: 0 0 60px 20px #111a2f, 0 0 160px 0 #0008; }
      to   { box-shadow: 0 0 100px 44px #18ffe3aa, 0 0 160px 0 #022c55; }
    }
    .speech-bubbles {
      position: absolute;
      width: 370px; height: 330px; left: 50%; top: 0;
      pointer-events: none; z-index: 9;
      transform: translateX(-50%);
    }
    .bubble {
      position: absolute;
      background: rgba(32,36,52,0.95);
      color: #f3f3fa;
      border: 1.5px solid #fff4;
      border-radius: 14px 44px 16px 30px;
      font-size: 1vw;
      padding: 7px 16px;
      opacity: 0.68;
      filter: blur(0.1px) drop-shadow(0 1.5px 6px #0004);
      animation: bubbleFlicker 5s infinite alternate;
      user-select: none;
      pointer-events: none;
    }
    /* Unique bubble positions */
    .bubble1 { left: 60px; top: 12px; animation-delay: 0s; }
    .bubble2 { right: 10px; top: 48px; animation-delay: 0.8s;}
    .bubble3 { left: 18px; bottom: 50px; animation-delay: 2.1s;}
    .bubble4 { right: 38px; bottom: 28px; animation-delay: 1.6s;}
    .bubble5 { left: 120px; top: 250px; animation-delay: 1.3s;}
    @keyframes bubbleFlicker {
      0%, 100% { opacity: 0.57; filter: blur(0.1px);}
      15% { opacity: 0.91; filter: blur(0px);}
      50% { opacity: 0.72; }
      78% { opacity: 0.48; }
    }

    /* Header/Prompt */
    .nemesis-header {
      font-size: 1.6vw;
      font-weight: 700;
      background: linear-gradient(90deg, #ff2566, #18ffe3 80%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 2vw;
      letter-spacing: 0.5px;
      text-align: center;
      text-shadow: 0 0 16px #0ff5, 0 0 6px #ff1b;
      filter: drop-shadow(0 2px 8px #ff006633);
      z-index: 20;
      animation: headerGlitch 2.7s infinite alternate;
    }
    @keyframes headerGlitch {
      0% { text-shadow: 0 0 18px #0ff8, 0 0 6px #ff1b;}
      10% { text-shadow: 2px -2px 16px #18ffe3bb, -2px 2px 10px #ff006699;}
      12% { text-shadow: 0 0 16px #0ff8, 0 0 8px #fff;}
      70% { text-shadow: 0 1px 16px #0ff5, 0 0 10px #ff1b;}
      100% { text-shadow: 0 0 20px #ff006699, 0 0 10px #fff;}
    }

    /* Input Box */
    .nemesis-input-wrap {
      width: 460px; max-width: 97vw;
      margin: 0 auto 2vw auto;
      position: relative;
      z-index: 30;
      display: flex; flex-direction: column; align-items: center;
    }
    .nemesis-input {
      width: 100%; min-height: 94px;
      background: #171a26;
      border: 2.2px solid #18ffe3;
      border-radius: 15px;
      padding: 1.1vw 1vw;
      color: #eee;
      font-size: 1.17vw;
      font-family: 'JetBrains Mono', monospace;
      box-shadow: 0 0 18px #18ffe333, 0 0 6px #ff006644;
      resize: none; outline: none;
      transition: border-color 0.23s, box-shadow 0.23s;
      caret-color: #ff2566;
      line-height: 1.45;
      letter-spacing: 0.2px;
      animation: inputFlicker 3.7s infinite alternate;
      z-index: 30;
    }
    .nemesis-input:focus {
      border-color: #ff2566;
      box-shadow: 0 0 36px #ff2566aa, 0 0 8px #18ffe377;
      background: #181926;
      animation: none;
    }
    @keyframes inputFlicker {
      0%,100% { box-shadow: 0 0 13px #18ffe344, 0 0 3px #ff006622;}
      50% { box-shadow: 0 0 19px #ff006622, 0 0 8px #18ffe355;}
    }
    .ghost-text {
      position: absolute; left: 1.7vw; top: 1.3vw; font-size: 1.17vw;
      color: #bbbbcc; opacity: 0.55;
      pointer-events: none;
      user-select: none;
      z-index: 100;
      animation: ghostGlitch 2.4s infinite alternate;
    }
    @keyframes ghostGlitch {
      0% { opacity: 0.45;}
      10% { opacity: 0.63;}
      25% { opacity: 0.45;}
      100% { opacity: 0.7;}
    }
    .input-error {
      color: #ff2566;
      margin: 5px 0 0 6px;
      font-size: 1.02vw;
      text-shadow: 0 0 4px #111,0 0 6px #ff1b;
      letter-spacing: 0.3px;
    }

    /* Submit Button */
    .nemesis-submit {
      width: 70%;
      margin: 2vw auto 0 auto; padding: 1vw 0;
      background: linear-gradient(90deg,#181b25 60%,#ff2566 100%);
      color: #fff;
      font-size: 1.15vw;
      font-family: 'JetBrains Mono', monospace;
      border: none;
      border-radius: 13px;
      box-shadow: 0 0 12px #ff256677,0 0 6px #18ffe344;
      letter-spacing: 0.4px;
      font-weight: 700;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      z-index: 100;
      transition: background 0.2s, box-shadow 0.2s, color 0.2s;
      animation: btnPulse 2.4s infinite alternate;
      outline: none;
      text-shadow: 0 1px 10px #18ffe377;
    }
    .nemesis-submit:disabled {
      background: #202030;
      color: #aaa;
      filter: grayscale(1) brightness(0.7);
      cursor: not-allowed;
      box-shadow: none;
      animation: none;
    }
    .nemesis-submit:not(:disabled):hover {
      background: linear-gradient(90deg,#181b25 20%,#ff2566 90%);
      color: #fff;
      box-shadow: 0 0 30px #ff2566cc,0 0 14px #18ffe399;
      animation: none;
    }
    @keyframes btnPulse {
      from { box-shadow: 0 0 12px #ff256655,0 0 4px #18ffe355;}
      to   { box-shadow: 0 0 28px #ff256688,0 0 16px #18ffe366;}
    }

    /* AI Processing State */
    .ai-processing {
      width: 420px; max-width:95vw;
      margin: 3vw auto 0 auto;
      background: #151823bb;
      color: #18ffe3;
      border: 1.5px solid #18ffe3;
      border-radius: 18px;
      box-shadow: 0 0 18px #18ffe355;
      font-size: 1.2vw;
      text-align: center;
      padding: 2vw 1vw 2vw 1vw;
      animation: aiScanGlow 1.1s infinite alternate;
      position: relative; z-index: 300;
    }
    @keyframes aiScanGlow {
      0%   { box-shadow: 0 0 12px #18ffe355; border-color: #18ffe3;}
      100% { box-shadow: 0 0 38px #ff256633; border-color: #ff2566;}
    }
    /* 3D neural scan (fake, animated) */
    .ai-scan {
      width: 54px; height: 54px; margin: 0 auto 1vw auto;
      border-radius: 50%; background: #18ffe333;
      border: 4px dashed #ff2566;
      animation: spin 1.6s linear infinite;
      box-shadow: 0 0 18px #ff2566cc, 0 0 2px #18ffe388;
      position: relative;
    }
    .ai-scan::before {
      content: ''; display: block;
      position: absolute; left: 10px; top: 10px;
      width: 30px; height: 30px;
      border-radius: 50%; border: 2.5px solid #18ffe3bb;
      border-top-color: transparent;
      animation: spin 1s linear reverse infinite;
      z-index: 3;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .continue-btn {
      margin: 2vw auto 0 auto;
      display: block;
      width: 70%;
      background: linear-gradient(90deg,#181b25 60%,#18ffe3 100%);
      color: #111;
      font-size: 1.13vw;
      font-family: 'JetBrains Mono', monospace;
      font-weight: 700;
      border: none;
      border-radius: 13px;
      box-shadow: 0 0 16px #18ffe344;
      letter-spacing: 0.35px;
      padding: 1.1vw 0;
      transition: background 0.2s, box-shadow 0.2s, color 0.2s;
      cursor: pointer;
      opacity: 0; pointer-events: none;
      animation: none;
      text-shadow: 0 1px 6px #fff;
    }
    .continue-btn.visible {
      opacity: 1; pointer-events: auto;
      transition: opacity 0.6s cubic-bezier(.87,-0.11,.16,1.11);
      animation: btnPulse 2.7s infinite alternate;
    }

    /* Status Bar */
    .nemesis-statusbar {
      position: fixed; left: 0; bottom: 0; width: 100vw; z-index: 400;
      background: linear-gradient(90deg,#111624 80%,#ff2566 110%);
      color: #fff;
      font-size: 1.11vw;
      letter-spacing: 0.2px;
      text-align: center;
      padding: 0.7vw 0;
      box-shadow: 0 0 18px #18ffe355 inset;
      font-family: 'JetBrains Mono', monospace;
      border-top: 2.5px solid #18ffe3;
      user-select: none;
      opacity: 0.96;
      text-shadow: 0 1px 8px #18ffe388;
    }

    /* Cognitive Blackout Overlay */
    #cognitive-blackout {
      display: none;
      position: fixed; z-index: 999999;
      top:0; left:0; width:100vw; height:100vh;
      background: #0a0812;
      opacity: 0.97;
      color: #18ffe3;
      font-size: 2.2vw;
      font-family: 'JetBrains Mono', monospace;
      font-weight: bold;
      justify-content: center; align-items: center;
      text-align: center;
      letter-spacing: 1.5px;
      backdrop-filter: blur(7px);
      transition: opacity 0.4s;
      pointer-events: all;
    }

    /* Misc */
    ::selection { background: #ff25664c; color: #fff;}
    body { -webkit-user-select: none; -ms-user-select: none; user-select: none;}
    input, textarea, button { -webkit-user-select: auto; user-select: auto;}
    /* Disable right-click/drag/copy-paste globally */
  </style>
</head>
<body>
  <!-- Mobile Block Overlay -->
  <div id="mobile-warning">Project Nemesis<br>Access Denied.<br><span style="color:#fff;font-size:1.3vw;">Laptop or Tablet required.<br>Mobile devices are not permitted.</span></div>
  <!-- Cognitive Blackout Overlay -->
  <div id="cognitive-blackout">Cognitive Blackout:<br>No Evidence Leaves This Room.</div>
  <!-- Static/Glitch Overlay -->
  <div class="bg-static"></div>
  <div class="matrix-corner top-left">101010<br>001011<br>010101<br>100110<br>011001</div>
  <div class="matrix-corner bottom-right">110010<br>111000<br>101100<br>011011<br>000101</div>
  <div class="main-wrap">
    <!-- Timer -->
    <div class="nemesis-timer" id="timer"></div>
    <!-- Silhouette + Speech Bubbles -->
    <div class="silhouette-box">
      <img src="silhouette.png" alt="Silhouette" class="silhouette-img" draggable="false">
      <div class="speech-bubbles">
        <div class="bubble bubble1">fraud</div>
        <div class="bubble bubble2">wannabe</div>
        <div class="bubble bubble3">phony</div>
        <div class="bubble bubble4">poser</div>
        <div class="bubble bubble5">overrated</div>
      </div>
    </div>
    <!-- Header -->
    <div class="nemesis-header">
      🧠 Question 1: What’s the worst thing someone could say about you publicly?
    </div>
    <!-- Input Area -->
    <div class="nemesis-input-wrap">
      <textarea id="nemesis-input" class="nemesis-input" rows="4" spellcheck="false"
        maxlength="320" autocomplete="off" autocapitalize="none" autocorrect="off"></textarea>
      <div id="ghost-text" class="ghost-text"></div>
      <div id="input-error" class="input-error"></div>
      <button id="submit-btn" class="nemesis-submit" disabled>Reveal My Weakness</button>
    </div>
    <!-- AI Processing State -->
    <div id="ai-processing" class="ai-processing" style="display:none;">
      <div class="ai-scan"></div>
      <span id="ai-message">Detecting Core Vulnerability…</span>
      <div id="ai-result" style="display:none; margin-top:1vw;">
        <strong>Core Vulnerability Detected:</strong><br>
        <span style="font-size:1.32vw;color:#ff2566;">Reputation Fragility</span>
      </div>
      <button id="continue-btn" class="continue-btn">Face The Next Question</button>
    </div>
  </div>
  <!-- Status Bar -->
  <div class="nemesis-statusbar">
    Nemesis Cognitive Engine: <span style="color:#18ffe3;">ACTIVE</span> | Surveillance: <span style="color:#ff2566;">ENGAGED</span>
  </div>

  <script>
    // ========== DEVICE BLOCKER ==========
    function isMobile() {
      // Block all mobile phones (portrait < 800px, or mobile UA)
      return (/Mobi|Android|iPhone|BlackBerry|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent) || window.innerWidth < 900);
    }
    function checkMobile() {
      if (isMobile()) {
        document.getElementById('mobile-warning').style.display = 'flex';
        document.body.classList.add('blocked');
      } else {
        document.getElementById('mobile-warning').style.display = 'none';
        document.body.classList.remove('blocked');
      }
    }
    checkMobile();
    window.addEventListener('resize', checkMobile);

    // ========== TIMER ==========
    let timerSec = 7 * 60;
    let timerInt = null, timerPaused = false;
    function updateTimer() {
      let min = Math.floor(timerSec / 60), sec = timerSec % 60;
      let txt = `${min.toString().padStart(2,'0')}:${sec.toString().padStart(2,'0')}`;
      document.getElementById('timer').innerHTML = '⏳ ' + txt;
      if (timerSec <= 60 && !timerPaused) document.getElementById('timer').style.boxShadow = '0 0 50px #ff2566aa';
      else document.getElementById('timer').style.boxShadow = '';
      if (timerSec > 0 && !timerPaused) timerSec--;
      else if (timerSec <= 0) { clearInterval(timerInt); document.getElementById('timer').innerHTML = '🛑 Time Up'; }
    }
    function startTimer() {
      updateTimer();
      timerInt = setInterval(updateTimer, 1000);
    }
    function pauseTimer() {
      timerPaused = true;
      document.getElementById('timer').classList.add('timer-paused');
    }
    function resumeTimer() {
      timerPaused = false;
      document.getElementById('timer').classList.remove('timer-paused');
    }
    startTimer();

    // ========== INPUT/INTERACTION ==========
    const ghostOptions = [
      'He’s just a brand, not a builder.',
      'Everything he made was hype — no substance.'
    ];
    let ghostIndex = 0;
    let ghostTimeout = null;
    let input = document.getElementById('nemesis-input');
    let ghostDiv = document.getElementById('ghost-text');
    let inputErr = document.getElementById('input-error');
    let submitBtn = document.getElementById('submit-btn');
    let aiDiv = document.getElementById('ai-processing');
    let aiMsg = document.getElementById('ai-message');
    let aiResult = document.getElementById('ai-result');
    let contBtn = document.getElementById('continue-btn');

    function setGhostText(idx) {
      ghostDiv.textContent = ghostOptions[idx % ghostOptions.length];
      ghostDiv.style.display = 'block';
    }
    setGhostText(ghostIndex);

    // Ghost typing animation
    function ghostCycle() {
      ghostIndex++; setGhostText(ghostIndex);
      ghostTimeout = setTimeout(ghostCycle, 4200);
    }
    ghostTimeout = setTimeout(ghostCycle, 4200);

    input.addEventListener('focus', () => {
      ghostDiv.style.transition = 'opacity 0.22s cubic-bezier(.61,-0.15,.17,1.09)';
      ghostDiv.style.opacity = 0;
      setTimeout(()=>ghostDiv.style.display='none',170);
    });
    input.addEventListener('blur', () => {
      if (input.value.trim() === '') {
        setTimeout(() => { setGhostText(ghostIndex); ghostDiv.style.opacity = 1; }, 120);
      }
    });
    // When deleting, if blank, re-show ghost text with "glitch" effect
    input.addEventListener('input', () => {
      if (input.value.trim() === '') {
        setGhostText(ghostIndex);
        ghostDiv.style.opacity = 1;
      } else {
        ghostDiv.style.display = 'none';
      }
      validateInput();
    });

    // Validation: must be at least 2 lines, not just blank lines
    function validateInput() {
      let txt = input.value.trim();
      let lines = txt.split('\n').filter(l=>l.trim().length > 0);
      if (lines.length >= 2 && txt.length >= 20) {
        submitBtn.disabled = false;
        inputErr.textContent = '';
      } else {
        submitBtn.disabled = true;
        inputErr.textContent = 'Minimum 2 lines required. No skipping this.';
      }
    }

    // ========== SUBMISSION / AI PROCESS ==========
    submitBtn.addEventListener('click', () => {
      submitBtn.disabled = true;
      input.disabled = true;
      aiDiv.style.display = 'block';
      aiMsg.textContent = 'Detecting Core Vulnerability…';
      aiResult.style.display = 'none';
      contBtn.classList.remove('visible');
      pauseTimer();

      // Random AI "analysis" delay
      let delay = Math.floor(Math.random()*9)+4; // 4–12 seconds
      setTimeout(()=>{
        aiMsg.textContent = '';
        aiResult.style.display = 'block';
        contBtn.classList.add('visible');
      }, delay*1000);
    });
    // Continue
    contBtn.addEventListener('click', () => {
      window.location.href = "page3.html";
    });

    // Resume timer after AI
    contBtn.addEventListener('mouseover', ()=>{resumeTimer();});

    // ========== SECURITY / ANTI-CHEAT ==========
    // Block right-click, copy, paste, text selection, drag, PrintScreen/screenshot
    window.addEventListener('contextmenu', e=>e.preventDefault());
    window.addEventListener('dragstart', e=>e.preventDefault());
    window.addEventListener('selectstart', e=>e.preventDefault());
    window.addEventListener('keydown', function(e){
      // Block PrintScreen, Ctrl+C/V, F12, Ctrl+S, Ctrl+P
      if (
        (e.key === "PrintScreen") ||
        (e.ctrlKey && ['c','v','u','s','p'].includes(e.key.toLowerCase())) ||
        (e.metaKey && ['c','v','u','s','p'].includes(e.key.toLowerCase())) ||
        (e.key === "F12")
      ) {
        document.getElementById('cognitive-blackout').style.display = 'flex';
        setTimeout(()=>{document.getElementById('cognitive-blackout').style.display='none';}, 2600);
        e.preventDefault(); return false;
      }
    });
    // Block screenshot key on macOS (Cmd+Shift+4 or 3)
    window.addEventListener('keyup', function(e){
      if ((e.key === "PrintScreen") || (e.metaKey && e.shiftKey && (e.key==='3' || e.key==='4'))) {
        document.getElementById('cognitive-blackout').style.display = 'flex';
        setTimeout(()=>{document.getElementById('cognitive-blackout').style.display='none';}, 2200);
        e.preventDefault(); return false;
      }
    });
    // Block clipboard events on input
    input.addEventListener('paste', e=>e.preventDefault());
    input.addEventListener('copy', e=>e.preventDefault());

    // Block navigation away
    window.onbeforeunload = function(){
      return "Nemesis Protocol: You cannot escape this trial.";
    };

    // Block save page
    document.addEventListener('keydown', function(e){
      if (e.ctrlKey && (e.key==='s' || e.key==='S')) {e.preventDefault();return false;}
    });

    // Hide blackout overlay on click/tap (if any)
    document.getElementById('cognitive-blackout').addEventListener('click',function(){
      this.style.display='none';
    });
  </script>
</body>
</html>
