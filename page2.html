<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Project Nemesis – Psychological Fingerprinting</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <!-- IBM Plex Mono and JetBrains Mono fonts -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500;700&family=JetBrains+Mono:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --black: #0a0a0d;
      --accent-red: #ff3146;
      --alert-blue: #35a7ff;
      --highlight-white: #ecf4ff;
      --timer-orange: #ff755a;
      --bubble-red: #ff3146;
      --bubble-white: #ffffffee;
      --bubble-fade: 0.12;
      --font: 'JetBrains Mono', 'IBM Plex Mono', monospace;
      --crack-glow: 0 0 16px 6px #ff314666, 0 0 4px 2px #ff3146bb;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: var(--black);
      font-family: var(--font);
      letter-spacing: 0.03em;
      color: var(--highlight-white);
      overflow: hidden;
      min-width: 700px;
    }
    body {
      width: 100vw;
      height: 100vh;
      background: var(--black);
      /* Subtle neural grid & scanline overlay */
      background-image: 
        repeating-linear-gradient(0deg, rgba(53,167,255,0.06) 0 2px, transparent 2px 6px),
        repeating-linear-gradient(90deg, rgba(255,49,70,0.04) 0 1px, transparent 1px 20px),
        url('data:image/svg+xml;utf8,<svg width="1200" height="700" viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg"><g opacity="0.07"><path d="M0,50 Q400,250 800,50 T1200,50" stroke="cyan" fill="none"/><path d="M0,350 Q400,550 800,350 T1200,350" stroke="red" fill="none"/></g></svg>');
      background-size: cover, cover, cover;
      position: relative;
      overflow: hidden;
      user-select: none;
    }
    /* Header */
    #header {
      position: absolute;
      top: 32px;
      left: 0;
      width: 100vw;
      text-align: center;
      font-family: var(--font);
      font-weight: 700;
      font-size: 2.1rem;
      letter-spacing: 0.07em;
      color: var(--alert-blue);
      text-shadow: 0 0 9px #0af7ff44;
      z-index: 10;
      pointer-events: none;
      opacity: 0;
      animation: fadeInDown 1s 0.2s forwards;
    }
    /* Timer */
    #session-timer {
      position: absolute;
      top: 38px;
      right: 62px;
      color: var(--timer-orange);
      font-family: var(--font);
      font-size: 1.1rem;
      letter-spacing: 0.08em;
      z-index: 11;
      opacity: 0.85;
      text-shadow: 0 0 6px #ff755a66;
      font-weight: 600;
      background: transparent;
      pointer-events: none;
      opacity: 0;
      animation: fadeInRight 1.1s 0.6s forwards;
    }
    /* Silhouette */
    #silhouette-container {
      position: absolute;
      left: 50%;
      top: 54%;
      transform: translate(-50%, -50%);
      width: 390px;
      height: 540px;
      z-index: 1;
      filter: brightness(1.1) contrast(1.2) blur(0.5px);
      opacity: 0;
      animation: fadeInScale 2s 0.6s forwards;
      pointer-events: none;
    }
    #silhouette {
      width: 100%;
      height: 100%;
      object-fit: contain;
      opacity: 0.75;
      filter: drop-shadow(0 0 70px #000a) brightness(0.96);
      user-drag: none; user-select: none;
      pointer-events: none;
    }
    /* Text bubbles flicker */
    .bubble {
      position: absolute;
      font-size: 1.25rem;
      font-family: var(--font);
      font-weight: 700;
      opacity: 0.13;
      animation: bubbleFlicker 3s infinite alternate;
      pointer-events: none;
      user-select: none;
      text-shadow: 0 0 12px #000c, 0 0 4px #ff3146;
      filter: blur(0.4px);
    }
    .bubble.red { color: var(--bubble-red);}
    .bubble.white { color: var(--bubble-white);}
    .bubble.fade { opacity: var(--bubble-fade);}
    /* Main question */
    #main-question {
      position: absolute;
      top: 160px;
      left: 0; right: 0;
      width: 100vw;
      text-align: center;
      font-size: 1.55rem;
      font-family: var(--font);
      font-weight: 700;
      letter-spacing: 0.03em;
      color: var(--highlight-white);
      text-shadow: 0 0 10px #74e3fe44;
      z-index: 15;
      filter: brightness(1.15) contrast(1.13);
      opacity: 0;
      animation: fadeInDown 1.1s 0.8s forwards;
    }
    /* Input/ghost typing */
    #input-section {
      position: absolute;
      left: 50%;
      top: 270px;
      transform: translateX(-50%);
      width: 600px;
      z-index: 19;
      opacity: 0;
      animation: fadeInUp 1.1s 1.1s forwards;
    }
    #user-input {
      width: 100%;
      min-height: 58px;
      background: rgba(8,14,26,0.94);
      border: 1.8px solid #2a3a46;
      box-shadow: 0 0 22px 2px #0008 inset, 0 0 2px #35a7ff55;
      border-radius: 12px;
      font-family: var(--font);
      font-size: 1.16rem;
      color: var(--highlight-white);
      outline: none;
      padding: 22px 28px;
      transition: border 0.17s, box-shadow 0.17s;
      resize: none;
      letter-spacing: 0.04em;
      caret-color: var(--accent-red);
      animation: ghostShiver 2.1s infinite alternate;
    }
    #user-input:focus {
      border: 2px solid var(--accent-red);
      box-shadow: 0 0 30px 2px #ff314655, 0 0 0 2px #ff314677;
      animation: ghostShiverActive 0.18s 3 alternate;
      background: rgba(8,14,26,0.98);
    }
    #user-input::selection {
      background: var(--alert-blue);
      color: #000;
    }
    /* Ghost typing cursor effect */
    .ghost-cursor {
      display: inline-block;
      width: 0.75ch;
      background: transparent;
      border-right: 2.5px solid #6bf3ffbb;
      margin-left: -2px;
      animation: ghostCursorBlink 0.75s steps(1) infinite;
    }
    /* SUBMIT button */
    #submit-btn {
      margin: 32px auto 0 auto;
      display: block;
      width: 370px;
      padding: 20px 0;
      font-size: 1.22rem;
      font-family: var(--font);
      font-weight: 700;
      color: var(--accent-red);
      background: transparent;
      border: 2.7px solid var(--accent-red);
      border-radius: 17px;
      cursor: pointer;
      box-shadow: 0 0 24px 2px #ff31462a, 0 0 4px 0 #ff314655;
      letter-spacing: 0.12em;
      outline: none;
      text-shadow: 0 0 7px #ff314666;
      transition: box-shadow 0.2s, background 0.13s, color 0.11s;
      animation: fadeInUp 1.1s 1.4s forwards, ghostShiver 2.7s infinite alternate;
      opacity: 0;
    }
    #submit-btn:hover, #submit-btn:focus {
      color: var(--highlight-white);
      background: linear-gradient(90deg, #ff31463c 0%, #111924 100%);
      box-shadow: 0 0 44px 6px #ff314688, 0 0 0 3px #ff314677;
      animation: ghostShiverActive 0.19s 3 alternate;
    }
    /* Analysis overlay */
    #processing-overlay {
      display: none;
      position: fixed;
      z-index: 30;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      background: rgba(8,14,26,0.86);
      animation: fadeIn 0.25s;
      align-items: center;
      justify-content: center;
    }
    #processing-content {
      text-align: center;
      z-index: 32;
    }
    #processing-text {
      color: var(--accent-red);
      font-family: var(--font);
      font-size: 2.1rem;
      font-weight: 700;
      letter-spacing: 0.09em;
      text-shadow: 0 0 22px #ff314699;
      margin-top: 12px;
      animation: pulseGlow 1.2s infinite alternate;
    }
    /* Data vortex animation */
    .vortex {
      width: 92px;
      height: 92px;
      margin: 0 auto;
      margin-top: 24px;
      position: relative;
    }
    .vortex span {
      position: absolute;
      border: 3.7px solid var(--accent-red);
      border-radius: 50%;
      opacity: 0.21;
      animation: vortexSpin 2s infinite linear;
    }
    .vortex .v1 { width:92px; height:92px; top:0; left:0; }
    .vortex .v2 { width:62px; height:62px; top:15px; left:15px; animation-delay: 0.4s;}
    .vortex .v3 { width:40px; height:40px; top:26px; left:26px; animation-delay: 0.7s;}
    /* Vulnerability reveal */
    #vuln-report {
      display: none;
      position: fixed;
      left: 50%; top: 46%;
      transform: translate(-50%, -50%);
      z-index: 50;
      text-align: center;
      animation: fadeInScale 0.8s;
    }
    #vuln-box {
      background: rgba(27,0,0,0.96);
      border: 3.5px solid var(--accent-red);
      border-radius: 14px;
      color: var(--accent-red);
      font-size: 2.25rem;
      font-family: var(--font);
      font-weight: 900;
      letter-spacing: 0.17em;
      padding: 42px 88px;
      box-shadow: 0 0 70px 8px #ff314699, var(--crack-glow);
      margin-bottom: 23px;
      text-shadow: 0 0 28px #ff3146, 0 0 8px #ff3146dd;
      position: relative;
      overflow: visible;
      animation: crackPulse 1.2s infinite alternate;
    }
    /* Crack effect */
    #vuln-crack {
      width: 102px;
      height: 34px;
      position: absolute;
      left: 50%;
      top: 100%;
      transform: translate(-50%, -18%);
      z-index: 51;
      pointer-events: none;
      opacity: 0.85;
      filter: drop-shadow(0 0 13px #ff3146cc);
      animation: crackGlow 2.2s infinite alternate;
    }
    /* FACE NEXT TRUTH */
    #next-btn {
      display: none;
      width: 350px;
      padding: 19px 0;
      font-size: 1.13rem;
      font-family: var(--font);
      font-weight: 700;
      color: var(--alert-blue);
      background: transparent;
      border: 2.7px solid var(--alert-blue);
      border-radius: 17px;
      cursor: pointer;
      letter-spacing: 0.11em;
      margin: 32px auto 0 auto;
      text-shadow: 0 0 14px #35a7ff88;
      box-shadow: 0 0 38px 6px #35a7ff22;
      outline: none;
      transition: box-shadow 0.19s, background 0.17s, color 0.13s;
      animation: fadeInUp 1.1s 0.3s forwards, ghostShiver 2.3s infinite alternate;
      opacity: 0;
    }
    #next-btn:hover, #next-btn:focus {
      color: var(--highlight-white);
      background: linear-gradient(90deg, #35a7ff33 0%, #111924 100%);
      box-shadow: 0 0 44px 7px #35a7ffbb, 0 0 0 3px #35a7ff77;
      animation: ghostShiverActive 0.19s 3 alternate;
    }
    /* Red laser cursor */
    button, #user-input, textarea, input {
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="48"><rect x="6" y="2" width="4" height="44" rx="2" fill="red" /></svg>') 8 24, pointer;
    }
    /* Modals/warnings */
    #modal {
      display: none;
      position: fixed;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      z-index: 9999;
      background: rgba(10,10,13,0.99);
      align-items: center;
      justify-content: center;
      flex-direction: column;
      font-family: var(--font);
    }
    #modal-content {
      color: var(--accent-red);
      background: #1a1219;
      padding: 45px 70px 36px 70px;
      border-radius: 16px;
      border: 2.5px solid var(--accent-red);
      font-size: 1.3rem;
      font-weight: 700;
      letter-spacing: 0.09em;
      text-align: center;
      box-shadow: 0 0 55px 6px #ff314655;
    }
    /* Animations */
    @keyframes fadeInDown { from {opacity:0; transform: translateY(-38px);} to {opacity:1; transform: translateY(0);} }
    @keyframes fadeInUp { from {opacity:0; transform: translateY(40px);} to {opacity:1; transform: translateY(0);} }
    @keyframes fadeInRight { from {opacity:0; transform: translateX(56px);} to {opacity:0.9; transform: translateX(0);} }
    @keyframes fadeInScale { from {opacity:0; transform:scale(0.93);} to {opacity:1; transform:scale(1);} }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    @keyframes ghostShiver { 0%{box-shadow:0 0 0 #fff0;} 90%{box-shadow:0 0 9px #ff314677;} 100%{box-shadow:0 0 12px #ff314677;} }
    @keyframes ghostShiverActive { 0%{box-shadow:0 0 0 #fff0;} 100%{box-shadow:0 0 13px #ff3146bb;} }
    @keyframes ghostCursorBlink {0%{border-right:2.5px solid #6bf3ffbb;}49%{border-right:2.5px solid #6bf3ffbb;}50%{border-right:2.5px solid #fff0;}100%{border-right:2.5px solid #fff0;}}
    @keyframes pulseGlow {0%{text-shadow:0 0 7px #ff3146,0 0 6px #ff3146cc;}100%{text-shadow:0 0 26px #ff3146,0 0 18px #ff3146cc;}}
    @keyframes crackGlow {0%{filter:drop-shadow(0 0 13px #ff3146cc);}100%{filter:drop-shadow(0 0 36px #ff3146dd);} }
    @keyframes crackPulse {0%{box-shadow:0 0 70px 8px #ff314699,var(--crack-glow);}100%{box-shadow:0 0 140px 30px #ff314633,var(--crack-glow);} }
    @keyframes vortexSpin {0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
    @keyframes bubbleFlicker {
      0% {opacity:0.1;}
      20% {opacity:0.28;}
      50% {opacity:0.13;}
      70% {opacity:0.21;}
      100% {opacity:0.06;}
    }
    /* Responsive for tablets/desktops only */
    @media (max-width: 1050px) {
      #input-section { width: 85vw; }
      #silhouette-container { width: 58vw; height: 68vh;}
    }
    @media (max-width: 700px) {
      html, body { min-width: 0; }
      #modal { display: flex !important;}
      #modal-content {font-size: 1.25rem;}
      #main-question, #header, #session-timer, #input-section, #silhouette-container, .bubble, #submit-btn, #processing-overlay, #vuln-report { display: none !important;}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <div id="header">INITIATION PROTOCOL:  PSYCHOLOGICAL FINGERPRINTING</div>
  <!-- Timer -->
  <div id="session-timer">SESSION TIMER:<span id="timer-val">07:00 MIN</span></div>
  <!-- Silhouette -->
  <div id="silhouette-container"><img src="silhouette.png" id="silhouette" alt="silhouette"></div>
  <!-- Flickering bubbles -->
  <span class="bubble red" style="top:200px;left:38vw;animation-delay:0.2s;">fraud</span>
  <span class="bubble white" style="top:275px;left:60vw;animation-delay:0.6s;">faker</span>
  <span class="bubble red" style="top:420px;left:42vw;animation-delay:1.7s;">overrated</span>
  <span class="bubble white" style="top:500px;left:56vw;animation-delay:2.2s;">faker</span>
  <span class="bubble white" style="top:330px;left:51vw;animation-delay:1.4s;">fraud</span>
  <span class="bubble red" style="top:475px;left:63vw;animation-delay:2.8s;">faker</span>
  <span class="bubble red" style="top:340px;left:45vw;animation-delay:2.5s;">overrated</span>
  <!-- Main question -->
  <div id="main-question">What’s the worst thing someone could say about you publicly?</div>
  <!-- Input -->
  <div id="input-section">
    <textarea id="user-input" rows="2" autocomplete="off" spellcheck="false" maxlength="220"></textarea>
    <button id="submit-btn">SUBMIT TO ADVERSARY</button>
  </div>
  <!-- AI Processing Overlay -->
  <div id="processing-overlay">
    <div id="processing-content">
      <div class="vortex">
        <span class="v1"></span><span class="v2"></span><span class="v3"></span>
      </div>
      <div id="processing-text">Nemesis Analysis: Scanning Vulnerabilities...</div>
    </div>
  </div>
  <!-- Vulnerability Reveal -->
  <div id="vuln-report">
    <div id="vuln-box">REPUTATION FRAGILITY
      <img id="vuln-crack" src="data:image/svg+xml;utf8,<svg width='102' height='34' viewBox='0 0 102 34' xmlns='http://www.w3.org/2000/svg'><polyline points='0,17 15,20 30,11 40,20 55,8 65,23 80,13 92,20 102,0' stroke='%23ff3146' stroke-width='3' fill='none' /><polyline points='20,33 25,26 31,33 43,25 51,33 67,24 80,33' stroke='%23ff3146' stroke-width='2' fill='none' /></svg>" />
    </div>
    <button id="next-btn">FACE NEXT TRUTH</button>
  </div>
  <!-- Modal for device/security warnings -->
  <div id="modal">
    <div id="modal-content"></div>
  </div>
  <script>
    // === PARAMETERS ===
    const GHOST_TEXT = "He's just a brand, not a builder.\nEverything he made was hype – no substance.";
    const MIN_ANALYSIS = 4000, MAX_ANALYSIS = 12000;
    // === TIMER ===
    let timerSeconds = 420; // 7 minutes
    let timerInterval = null, timerPaused = false;
    function updateTimer() {
      if (timerPaused) return;
      timerSeconds--;
      if (timerSeconds < 0) timerSeconds = 0;
      let min = Math.floor(timerSeconds/60).toString().padStart(2,'0');
      let sec = (timerSeconds%60).toString().padStart(2,'0');
      document.getElementById('timer-val').innerText = `${min}:${sec} MIN`;
    }
    function startTimer() {
      timerInterval = setInterval(updateTimer, 1000);
    }
    function pauseTimer() { timerPaused = true; }
    function resumeTimer() { timerPaused = false; }
    // === GHOST TYPING ===
    let ghostTyping = false, ghostIndex = 0, ghostTimeout = null;
    const userInput = document.getElementById('user-input');
    function setGhostText() {
      ghostTyping = true; ghostIndex = 0;
      userInput.value = '';
      userInput.readOnly = true;
      userInput.style.color = '#35a7ff';
      ghostTypeStep();
    }
    function ghostTypeStep() {
      if (ghostIndex <= GHOST_TEXT.length) {
        userInput.value = GHOST_TEXT.slice(0, ghostIndex);
        ghostIndex++;
        ghostTimeout = setTimeout(ghostTypeStep, 28 + Math.random()*38);
      } else {
        ghostTyping = false;
        userInput.readOnly = false;
        userInput.style.color = '';
        userInput.blur();
      }
    }
    function killGhostText() {
      if (ghostTimeout) clearTimeout(ghostTimeout);
      ghostTyping = false;
      userInput.readOnly = false;
      userInput.style.color = '';
    }
    // === GHOST REAPPEAR ===
    let reGhostTimer = null;
    function triggerReGhost() {
      if (ghostTyping) return;
      if (userInput.value.trim() !== '') return;
      reGhostTimer = setTimeout(setGhostText, 3000);
    }
    function killReGhost() {
      if (reGhostTimer) clearTimeout(reGhostTimer);
    }
    // === INPUT EVENTS ===
    userInput.addEventListener('focus', () => {
      killGhostText();
      userInput.value = '';
      userInput.readOnly = false;
      userInput.style.color = '';
      killReGhost();
    });
    userInput.addEventListener('blur', triggerReGhost);
    userInput.addEventListener('input', () => {
      if (ghostTyping) killGhostText();
      if (userInput.value.trim() === '') triggerReGhost();
      else killReGhost();
    });
    // === INITIALIZE ===
    setTimeout(setGhostText, 800);
    // === SUBMIT BUTTON ===
    const submitBtn = document.getElementById('submit-btn');
    let submitted = false;
    submitBtn.addEventListener('click', () => {
      if (submitted) return;
      submitted = true;
      // Lock UI
      userInput.readOnly = true;
      submitBtn.disabled = true;
      submitBtn.style.opacity = "0.7";
      pauseTimer();
      // Show overlay
      document.getElementById('processing-overlay').style.display = 'flex';
      // After random delay, show vulnerability
      setTimeout(() => {
        document.getElementById('processing-overlay').style.display = 'none';
        document.getElementById('vuln-report').style.display = 'block';
        document.getElementById('next-btn').style.display = 'block';
        setTimeout(()=>{document.getElementById('next-btn').style.opacity='1';}, 100);
      }, Math.floor(Math.random()*(MAX_ANALYSIS-MIN_ANALYSIS)+MIN_ANALYSIS));
    });
    // Next button
    document.getElementById('next-btn').addEventListener('click', () => {
      window.location.href = "page3.html";
    });
    // === CLIPBOARD & SECURITY LOCKDOWNS ===
    // Block copy, paste, cut, right-click, context menu
    function blockClipboard(e) { e.preventDefault(); return false; }
    ['copy','cut','paste'].forEach(ev => document.addEventListener(ev, blockClipboard));
    document.addEventListener('contextmenu', blockClipboard);
    userInput.addEventListener('keydown', function(e){
      // Block clipboard shortcuts
      if ((e.ctrlKey||e.metaKey) && (e.key==='v'||e.key==='c'||e.key==='x'||e.key==='a')) e.preventDefault();
      // Block screenshot shortcuts (not foolproof)
      if (
        (e.key === 'PrintScreen') ||
        (e.ctrlKey && e.key.toLowerCase() === 's') ||
        ((e.metaKey || e.ctrlKey) && e.shiftKey && (e.key==='3'||e.key==='4'))
      ) {
        showModal("Security Violation:<br>Screen capture, copy, and save are disabled during this simulation.");
        e.preventDefault();
        return false;
      }
    });
    document.addEventListener('keydown', function(e){
      // Block PrintScreen everywhere
      if (e.key === 'PrintScreen' || (e.key === 'Insert' && e.shiftKey)) {
        showModal("Security Violation:<br>Screen capture, copy, and save are disabled during this simulation.");
        e.preventDefault();
      }
      // Block save
      if ((e.ctrlKey||e.metaKey) && e.key.toLowerCase() === 's') {
        showModal("Saving is disabled during this simulation.");
        e.preventDefault();
      }
      // Block navigation
      if ((e.altKey && (e.key === 'ArrowLeft' || e.key === 'ArrowRight')) || (e.key === 'Backspace' && e.target === document.body)) {
        showModal("Navigation away from this page is disabled during the simulation.");
        e.preventDefault();
      }
    });
    window.onbeforeunload = () => "Leaving now will erase your progress.";
    // Disable back/forward navigation
    window.history.pushState(null, '', window.location.href);
    window.addEventListener('popstate', function(event) {
      window.history.pushState(null, '', window.location.href);
      showModal("Back/forward navigation is disabled during this simulation.");
    });
    // Modal helpers
    function showModal(msg) {
      const modal = document.getElementById('modal');
      const content = document.getElementById('modal-content');
      content.innerHTML = msg + "<br><br><button style='margin-top:19px;padding:12px 36px;background:#ff3146;color:#fff;border:none;border-radius:7px;font-family:var(--font);font-size:1.12rem;font-weight:700;cursor:pointer;' onclick='document.getElementById(\"modal\").style.display=\"none\";'>OK</button>";
      modal.style.display = 'flex';
    }
    // Block mobile devices
    function blockMobile() {
      if (window.innerWidth < 700) {
        showModal("This simulation can only be run on tablets or desktops for security reasons.");
        return true;
      } else {
        document.getElementById('modal').style.display = 'none';
        return false;
      }
    }
    window.addEventListener('resize', blockMobile);
    if (blockMobile()) { }
    // === Animation boot ===
    window.onload = function() {
      startTimer();
      document.getElementById('submit-btn').style.opacity='1';
    };
  </script>
</body>
</html>
