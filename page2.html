<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Initiation Protocol: Psychological Fingerprinting — Project Nemesis</title>
  <meta name="viewport" content="width=1024">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --main-bg: #0c1018;
      --glow-blue: #00ffee;
      --glow-red: #ff0066;
      --text-faint: #d6e0f7;
      --accent: #f3f3f3;
      --danger: #ff4269;
    }
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: radial-gradient(ellipse at 60% 0%, #171a23 60%, #0c1018 100%) no-repeat;
      font-family: 'JetBrains Mono', monospace;
      color: var(--text-faint);
      overflow: hidden;
      user-select: none;
      -webkit-user-select: none;
      background-attachment: fixed;
    }
    body.blocked { filter: blur(12px) grayscale(1) brightness(0.4); pointer-events: none; }
    #block-mobile, #block-screenshot {
      position: fixed;
      z-index: 999999;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: #07090dCC;
      color: #fff;
      font-size: 2.2vw;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      letter-spacing: 0.02em;
      font-weight: bold;
      backdrop-filter: blur(10px) grayscale(1);
      transition: opacity 0.2s;
      pointer-events: all;
      font-family: 'JetBrains Mono', monospace;
    }
    #block-mobile, #block-screenshot { display: none; }
    #block-mobile.active, #block-screenshot.active { display: flex; }

    .bg-glitch {
      position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; z-index: 0;
      pointer-events: none;
      background: repeating-linear-gradient(180deg, #191c23 0px, #191c23 4px, #111216 8px, #18191f 12px);
      opacity: 0.28;
      mix-blend-mode: lighten;
      animation: flickerBg 5s linear infinite alternate;
    }
    @keyframes flickerBg {
      0% { opacity: .18; }
      70% { opacity: .35; }
      100% { opacity: .23; }
    }
    .code-rain {
      position: fixed;
      pointer-events: none;
      z-index: 1;
      left: 0; top: 0; width: 100vw; height: 100vh;
      opacity: .10;
      font-size: 1.3vw;
      color: #00ffee;
      text-shadow: 0 0 6px #00ffee66, 0 0 20px #00ffee33;
      overflow: hidden;
    }

    .container-main {
      position: relative;
      z-index: 3;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 98vh;
      width: 100vw;
      min-width: 1000px;
    }
    .nemesis-header {
      margin-top: 2vh;
      margin-bottom: 1.2vh;
      text-align: center;
      font-size: 2.1vw;
      font-weight: 700;
      letter-spacing: 0.015em;
      background: linear-gradient(90deg, #00ffee 30%, #ffffff 50%, #ff0066 70%);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: headerglitch 2.2s infinite linear alternate;
      filter: drop-shadow(0 0 4px #00ffee55);
    }
    @keyframes headerglitch {
      0% { background-position: 0% 0%; filter: drop-shadow(0 0 2px #ff0066cc);}
      100% { background-position: 100% 0%; filter: drop-shadow(0 0 8px #00ffeecc);}
    }
    .timer {
      position: absolute;
      top: 2vh;
      right: 5vw;
      font-size: 1.1vw;
      font-family: 'JetBrains Mono', monospace;
      color: #00ffee;
      letter-spacing: 0.07em;
      background: #0d161f99;
      padding: 0.6em 1.2em;
      border-radius: 1.5em;
      border: 2px solid #00ffee44;
      box-shadow: 0 0 14px #00ffee33;
      user-select: none;
    }
    .timer.processing { color: #ff0066; background: #141016; border-color: #ff006688; }
    .timer .timer-bar {
      display: block;
      height: 3px;
      margin-top: 3px;
      width: 100%;
      background: linear-gradient(90deg, #00ffee, #ff0066 95%);
      border-radius: 2px;
      box-shadow: 0 0 3px #ff0066, 0 0 8px #00ffee;
      transition: width 1s linear;
    }

    .silhouette-wrap {
      position: relative;
      width: 36vw;
      height: 28vw;
      margin: 2vw auto 1.8vw auto;
      z-index: 2;
      display: flex; align-items: center; justify-content: center;
    }
    .silhouette-img {
      width: 95%; height: 95%;
      object-fit: contain;
      filter: drop-shadow(0 0 24px #00ffee33) brightness(1.05);
      opacity: 0.98;
      z-index: 2;
      border-radius: 80px 80px 100px 100px/60px 80px 120px 120px;
      box-shadow: 0 0 32px #11182d, 0 0 128px #0c1018;
      background: transparent;
    }
    /* Speech bubbles */
    .bubble {
      position: absolute;
      min-width: 8vw;
      max-width: 15vw;
      min-height: 2vw;
      padding: 0.7vw 1vw;
      background: linear-gradient(100deg, #181e29 75%, #23253e 100%);
      color: #fff;
      border-radius: 1.4em;
      font-size: 1.05vw;
      opacity: 0.89;
      box-shadow: 0 0 9px #00ffee33;
      border: 1.5px solid #00ffee55;
      pointer-events: none;
      transition: opacity 0.6s, transform 0.5s;
      will-change: opacity, transform;
      z-index: 3;
      filter: blur(0.3px) drop-shadow(0 0 5px #ff006666);
      user-select: none;
    }
    .bubble.flicker {
      animation: bubbleflicker 2.3s infinite alternate;
      opacity: 1;
    }
    @keyframes bubbleflicker {
      0% { opacity: .68; transform: scale(1.01);}
      17% { opacity: 1; }
      37% { opacity: 0.89; }
      55% { opacity: 1; transform: scale(1.03);}
      82% { opacity: .7;}
      100% { opacity: 1; transform: scale(1.00);}
    }

    .input-block {
      position: relative;
      width: 35vw;
      margin: 0 auto 1vw auto;
      background: #111721bb;
      border-radius: 18px;
      box-shadow: 0 0 14px #00ffee22, 0 0 44px #ff006611;
      border: 2.3px solid #232d3c;
      padding: 2.2vw 2vw 1vw 2vw;
      z-index: 5;
      animation: inputGlow 4s infinite alternate;
    }
    @keyframes inputGlow {
      0% { box-shadow: 0 0 14px #00ffee22, 0 0 22px #ff006622;}
      100% { box-shadow: 0 0 34px #00ffee77, 0 0 44px #ff006655;}
    }
    .input-label {
      font-size: 1.16vw;
      color: #ff0066;
      font-weight: 700;
      margin-bottom: 1.1vw;
      letter-spacing: 0.01em;
      text-shadow: 0 0 8px #ff006622;
      display: flex; align-items: center; gap: 0.5em;
    }
    .input-label:before {
      content: "🧠";
      margin-right: 0.5em;
    }
    .input-textarea {
      width: 100%;
      min-height: 4.5vw;
      max-height: 10vw;
      background: #161b26;
      color: #fff;
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.09vw;
      padding: 1vw 1vw;
      border-radius: 1.2em;
      border: 2px solid #00ffee88;
      box-shadow: 0 0 6px #00ffee55, 0 0 16px #00ffee33;
      outline: none;
      resize: none;
      margin-bottom: 0.9vw;
      transition: border 0.2s, box-shadow 0.4s;
      caret-color: #ff0066;
      z-index: 10;
      position: relative;
      animation: textareaGlow 1.7s infinite alternate;
    }
    .input-textarea:focus {
      border: 2.6px solid #ff0066;
      box-shadow: 0 0 12px #ff0066cc, 0 0 34px #00ffee33;
      animation: textareaGlowActive 1s infinite alternate;
    }
    @keyframes textareaGlow {
      0% { box-shadow: 0 0 6px #00ffee33;}
      100% { box-shadow: 0 0 14px #00ffee77;}
    }
    @keyframes textareaGlowActive {
      0% { box-shadow: 0 0 18px #ff0066bb;}
      100% { box-shadow: 0 0 12px #00ffeecc;}
    }
    .ghost-text {
      position: absolute;
      left: 2.2vw; top: 4vw;
      color: #94a2d8bb;
      font-style: italic;
      pointer-events: none;
      opacity: 0.88;
      font-size: 1.06vw;
      z-index: 6;
      transition: opacity 0.5s;
      animation: ghostType 3s steps(35) 1;
      user-select: none;
    }
    @keyframes ghostType {
      0% { width: 0ch; opacity: 0; }
      100% { width: 35ch; opacity: 1; }
    }
    .ghost-hide { opacity: 0; }

    .submit-btn, .continue-btn {
      font-family: 'JetBrains Mono', monospace;
      font-weight: 700;
      background: linear-gradient(90deg, #181a29 80%, #23283f 100%);
      color: #fff;
      font-size: 1.2vw;
      padding: 0.7vw 2.2vw;
      border: none;
      border-radius: 2em;
      box-shadow: 0 0 16px #00ffee55;
      cursor: pointer;
      outline: none;
      transition: background 0.2s, box-shadow 0.2s, filter 0.2s;
      letter-spacing: 0.1em;
      margin-top: 0.2vw;
    }
    .submit-btn {
      background: linear-gradient(93deg, #111a19 72%, #191a29 98%);
      border: 2px solid #ff0066cc;
      box-shadow: 0 0 14px #ff006644;
    }
    .submit-btn:hover:not([disabled]) {
      background: linear-gradient(100deg, #ff0066 50%, #00ffee 90%);
      box-shadow: 0 0 24px #ff0066cc, 0 0 12px #00ffee;
      color: #fff;
      filter: brightness(1.18);
      animation: btnPulse 1s infinite alternate;
    }
    @keyframes btnPulse {
      0% { box-shadow: 0 0 10px #ff0066bb;}
      100% { box-shadow: 0 0 25px #00ffee88;}
    }
    .submit-btn:disabled { opacity: 0.47; filter: grayscale(1); cursor: not-allowed; }

    .processing-block {
      display: none;
      flex-direction: column;
      align-items: center;
      margin: 3vw 0;
      z-index: 5;
      background: #111621ee;
      padding: 3vw 2vw 2vw 2vw;
      border-radius: 18px;
      box-shadow: 0 0 24px #ff006644;
      animation: procPulse 2s infinite alternate;
    }
    .processing-block.active { display: flex; }
    @keyframes procPulse {
      0% { box-shadow: 0 0 18px #ff0066aa;}
      100% { box-shadow: 0 0 44px #00ffeeaa;}
    }
    .proc-anim {
      font-size: 2vw;
      margin-bottom: 1.2vw;
      color: #00ffee;
      text-shadow: 0 0 24px #00ffee77;
      letter-spacing: 0.06em;
      font-weight: 700;
      margin-top: 1vw;
    }
    .ai-glitch { font-family: 'JetBrains Mono', monospace; letter-spacing: 0.11em;}
    .glitch-bar {
      display: block;
      width: 11vw; height: 1.2vw;
      background: linear-gradient(90deg, #00ffee, #ff0066 70%);
      border-radius: 1vw;
      margin: 1vw 0 1.5vw 0;
      filter: blur(2px) opacity(0.7);
      animation: glitchBarAnim 1.2s infinite alternate;
    }
    @keyframes glitchBarAnim {
      0% { filter: blur(2px) opacity(0.5);}
      50% { filter: blur(0.8px) opacity(1);}
      100% { filter: blur(2.2px) opacity(0.6);}
    }
    .detected-block {
      display: none;
      flex-direction: column;
      align-items: center;
      margin: 2vw 0;
      z-index: 6;
      background: #181e29ee;
      padding: 2.2vw 2vw 1.2vw 2vw;
      border-radius: 14px;
      box-shadow: 0 0 18px #ff006622, 0 0 8px #00ffee22;
      animation: procPulse 1.4s infinite alternate;
    }
    .detected-block.active { display: flex; }
    .detected-title {
      color: #ff0066;
      font-size: 1.35vw;
      font-weight: 700;
      letter-spacing: 0.04em;
      margin-bottom: 0.7vw;
      text-shadow: 0 0 8px #ff006688;
    }
    .detected-phrase {
      color: #fff;
      font-size: 1.13vw;
      font-weight: 500;
      text-shadow: 0 0 9px #00ffee44;
      margin-bottom: 1.2vw;
      background: #232a38bb;
      padding: 0.9vw 2vw;
      border-radius: 1em;
      border: 2px solid #00ffee33;
      min-width: 15vw;
      text-align: center;
    }
    .continue-btn {
      background: linear-gradient(90deg, #181a29 80%, #23283f 100%);
      border: 2px solid #00ffeecc;
      margin-top: 1vw;
      box-shadow: 0 0 10px #00ffee88;
    }
    .continue-btn:hover {
      background: linear-gradient(93deg, #00ffee 30%, #ff0066 100%);
      box-shadow: 0 0 22px #00ffeecc, 0 0 9px #ff0066;
      color: #0c1018;
      filter: brightness(1.21);
    }

    .status-bar {
      position: fixed;
      left: 0; bottom: 0; width: 100vw;
      height: 2.4vw;
      background: #12161dcc;
      color: #00ffee;
      font-family: 'JetBrains Mono', monospace;
      font-size: 1vw;
      letter-spacing: 0.04em;
      display: flex;
      align-items: center;
      justify-content: center;
      border-top: 2.2px solid #ff0066cc;
      z-index: 88;
      box-shadow: 0 0 22px #00ffee33;
      user-select: none;
    }

    /* Hide scrollbars for immersion */
    ::-webkit-scrollbar { width: 0px; background: transparent; }
    body, html { scrollbar-width: none; -ms-overflow-style: none; }
    ::selection { background: #ff006633; color: #fff; }
    /* Security: disable select/drag/copy everywhere */
    body, input, textarea, button, .bubble, .nemesis-header, .input-block { -webkit-user-select: none; user-select: none; -webkit-touch-callout: none;}
    textarea, input { -webkit-user-select: text; user-select: text; }
    /* Responsive: block for <950px width (mobiles) */
    @media (max-width: 950px) {
      .container-main { display: none !important;}
      #block-mobile { display: flex !important;}
    }
  </style>
</head>
<body>
  <div class="bg-glitch"></div>
  <div class="code-rain" id="coderain"></div>
  <div id="block-mobile">⚠️ <br> Project Nemesis Initiation Protocol is only available on Desktop and Tablets.<br> Please use a larger device.<br><br>Access denied.</div>
  <div id="block-screenshot">Cognitive Blackout: <br> No Evidence Leaves This Room.<br>Screen capture blocked.</div>

  <div class="container-main" id="main-content">
    <div class="nemesis-header">
      Initiation Protocol: Psychological Fingerprinting
    </div>
    <div class="timer" id="timer">07:00<span class="timer-bar" id="timer-bar"></span></div>

    <div class="silhouette-wrap" id="silhouette-wrap">
      <img src="silhouette.png" class="silhouette-img" alt="Nemesis Silhouette">
      <div class="bubble flicker" id="bubble1" style="top:4%;left:-14%;">fraud</div>
      <div class="bubble" id="bubble2" style="top:13%;left:80%;">wannabe</div>
      <div class="bubble" id="bubble3" style="top:58%;left:-11%;">phony</div>
      <div class="bubble" id="bubble4" style="top:50%;left:85%;">poser</div>
      <div class="bubble" id="bubble5" style="top:80%;left:22%;">overrated</div>
    </div>

    <form class="input-block" id="input-form" autocomplete="off" spellcheck="false" onsubmit="return false;">
      <div class="input-label">
        Question 1: What’s the worst thing someone could say about you publicly?
      </div>
      <textarea class="input-textarea" id="input-area"
        rows="3"
        maxlength="420"
        autocomplete="off"
        placeholder=""
        required
      ></textarea>
      <div class="ghost-text" id="ghost-text"></div>
      <button type="submit" class="submit-btn" id="submit-btn" disabled>Reveal My Weakness</button>
    </form>

    <div class="processing-block" id="processing-block" style="display:none;">
      <div class="proc-anim ai-glitch" id="proc-anim">Detecting Core Vulnerability<span class="dots"></span></div>
      <div class="glitch-bar"></div>
    </div>

    <div class="detected-block" id="detected-block" style="display:none;">
      <div class="detected-title">Core Vulnerability Detected:</div>
      <div class="detected-phrase" id="detected-phrase">Reputation Fragility</div>
      <button class="continue-btn" id="continue-btn" style="display:none;">Face The Next Question</button>
    </div>
  </div>
  <div class="status-bar">
    Nemesis Cognitive Engine: ACTIVE | Surveillance: ENGAGED
  </div>

  <script>
    // --- MOBILE BLOCK ---
    function isMobileDevice() {
      let check = false;
      (function(a){
        if(/(android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile|windows phone)/i.test(a)) check = true;
      })(navigator.userAgent||navigator.vendor||window.opera);
      return check || (window.innerWidth < 950);
    }
    function checkDevice() {
      if (isMobileDevice()) {
        document.getElementById('block-mobile').classList.add('active');
        document.body.classList.add('blocked');
        document.getElementById('main-content').style.display = 'none';
      } else {
        document.getElementById('block-mobile').classList.remove('active');
        document.body.classList.remove('blocked');
        document.getElementById('main-content').style.display = 'flex';
      }
    }
    window.addEventListener('resize', checkDevice);
    checkDevice();

    // --- CODE RAIN ---
    function codeRain(el, lines=20) {
      let symbols = "01ABCDEFGHIJKLMNOPQRSTUVWXYZ#$%&@";
      let out = "";
      for(let i=0;i<lines;i++){
        let col = '';
        for(let j=0;j<40;j++) col += symbols[Math.floor(Math.random()*symbols.length)];
        out += col+"<br>";
      }
      el.innerHTML = out;
    }
    setInterval(()=>{ codeRain(document.getElementById('coderain')); }, 130);

    // --- Animated speech bubbles ---
    function flickerBubbles(){
      document.getElementById('bubble1').classList.toggle('flicker');
      setTimeout(()=>document.getElementById('bubble2').classList.toggle('flicker'), 1200);
      setTimeout(()=>document.getElementById('bubble3').classList.toggle('flicker'), 2100);
      setTimeout(()=>document.getElementById('bubble4').classList.toggle('flicker'), 1600);
      setTimeout(()=>document.getElementById('bubble5').classList.toggle('flicker'), 800);
    }
    setInterval(flickerBubbles, 2500);

    // --- Ghost input simulation ---
    const ghostLines = [
      "He’s just a brand, not a builder.",
      "Everything he made was hype — no substance."
    ];
    let currentGhostIdx = 0;
    let ghostTextEl = document.getElementById('ghost-text');
    let textarea = document.getElementById('input-area');
    let typingGhost = false;
    function showGhostText(lineIdx=0) {
      ghostTextEl.innerText = ghostLines[lineIdx];
      ghostTextEl.classList.remove('ghost-hide');
      ghostTextEl.style.opacity = '0.88';
      typingGhost = true;
      setTimeout(() => { typingGhost = false; }, 2200);
    }
    function hideGhostText() {
      ghostTextEl.classList.add('ghost-hide');
      ghostTextEl.style.opacity = '0.18';
    }
    showGhostText();

    textarea.addEventListener('focus', () => {
      if (!textarea.value) {
        ghostTextEl.style.opacity = '0.04';
        setTimeout(hideGhostText, 230);
      }
      // Animate bubbles on focus
      document.querySelectorAll('.bubble').forEach(b=>{
        b.classList.add('flicker');
      });
    });
    textarea.addEventListener('blur', () => {
      if (!textarea.value.trim()) {
        setTimeout(()=>{ showGhostText((++currentGhostIdx)%ghostLines.length); }, 220);
      }
      document.querySelectorAll('.bubble').forEach((b,i)=>{
        if(i!==0) b.classList.remove('flicker');
      });
    });
    textarea.addEventListener('input', () => {
      if (textarea.value.length > 0) hideGhostText();
      let lines = textarea.value.trim().split('\n').filter(l=>l.length>2);
      document.getElementById('submit-btn').disabled = lines.length < 2;
    });

    // --- Timer Logic ---
    let totalSeconds = 7*60;
    let timerEl = document.getElementById('timer');
    let timerBar = document.getElementById('timer-bar');
    let timerRunning = true;
    let timerInterval;
    function updateTimer(){
      let min = Math.floor(totalSeconds/60);
      let sec = totalSeconds%60;
      timerEl.innerHTML = (min<10?'0':'')+min+":"+(sec<10?'0':'')+sec+timerEl.innerHTML.replace(/[\d:]+/,"");
      // Timer progress bar
      let pct = totalSeconds/(7*60);
      timerBar.style.width = (pct*100)+"%";
      if(totalSeconds <= 0){
        clearInterval(timerInterval);
        timerEl.innerHTML = "⏰ 00:00";
        document.getElementById('input-area').disabled = true;
        document.getElementById('submit-btn').disabled = true;
      }
    }
    function startTimer(){
      timerInterval = setInterval(()=>{
        if(timerRunning){
          totalSeconds--;
          updateTimer();
        }
      },1000);
    }
    startTimer();

    // --- Submission logic ---
    const inputForm = document.getElementById('input-form');
    const submitBtn = document.getElementById('submit-btn');
    const processingBlock = document.getElementById('processing-block');
    const detectedBlock = document.getElementById('detected-block');
    const detectedPhrase = document.getElementById('detected-phrase');
    const continueBtn = document.getElementById('continue-btn');

    inputForm.addEventListener('submit', function(){
      // Security: block input
      textarea.disabled = true;
      submitBtn.disabled = true;
      // Hide form, show processing
      inputForm.style.display = "none";
      processingBlock.classList.add('active');
      timerRunning = false;
      timerEl.classList.add('processing');
      // Animate dots
      let procAnim = document.getElementById('proc-anim');
      let dots = 0;
      let dotInt = setInterval(()=>{
        procAnim.innerHTML = "Detecting Core Vulnerability" + ".".repeat((++dots)%4);
      }, 420);
      // Simulate AI delay
      let delay = Math.floor(Math.random()*8)+4; // 4-12 seconds
      setTimeout(()=>{
        clearInterval(dotInt);
        processingBlock.classList.remove('active');
        detectedBlock.classList.add('active');
                // Resume timer after analysis
        timerEl.classList.remove('processing');
        timerRunning = true;
        // Analyze input for "dynamic phrase" or default
        let answer = textarea.value.trim();
        let phrases = [
          /brand|hype|builder/i,
          /substance|fake|phony/i,
          /overrated|wannabe|poser/i,
          /irrelevant|forgotten|invisible/i,
          /failure|loser|unworthy/i,
          /alone|abandoned|betrayed/i,
        ];
        let detected = "Reputation Fragility";
        if (phrases[0].test(answer)) detected = "Superficial Legacy";
        else if (phrases[1].test(answer)) detected = "Perceived Inauthenticity";
        else if (phrases[2].test(answer)) detected = "Imposter Syndrome";
        else if (phrases[3].test(answer)) detected = "Existential Obsolescence";
        else if (phrases[4].test(answer)) detected = "Fear of Inadequacy";
        else if (phrases[5].test(answer)) detected = "Isolation Anxiety";
        detectedPhrase.innerText = detected;
        // Fade in Continue button
        setTimeout(()=> {
          continueBtn.style.display = "block";
          continueBtn.classList.add('ai-glitch');
        }, 1000);
      }, delay * 1000);
      return false;
    });

    continueBtn.addEventListener('click', function(){
      // Go to next page (local redirect)
      window.location.href = "page3.html";
    });

    // --- Prevent refresh: anti-escape ---
    window.onbeforeunload = function(){
      return "Nemesis Protocol: You cannot escape this trial.";
    };

    // --- Anti-cheat: disable right click, select, copy, paste, drag ---
    window.addEventListener('contextmenu', function(e){ e.preventDefault(); return false; });
    window.addEventListener('keydown', function(e){
      // Block PrintScreen, Ctrl/Cmd+C, V, S, U, F12, Ctrl+Shift+I/J, Alt+Tab (to some extent)
      if(
        (e.ctrlKey && ['c','v','s','u'].includes(e.key.toLowerCase())) ||
        (e.metaKey && ['c','v','s','u'].includes(e.key.toLowerCase())) ||
        e.key === "PrintScreen" ||
        e.key === "F12" ||
        (e.ctrlKey && e.shiftKey && ['i','j'].includes(e.key.toLowerCase()))
      ){
        e.preventDefault();
        blockScreenshot();
        return false;
      }
    });
    document.addEventListener('copy', e => { e.preventDefault(); blockScreenshot(); });
    document.addEventListener('paste', e => { e.preventDefault(); blockScreenshot(); });
    document.addEventListener('dragstart', e => { e.preventDefault(); blockScreenshot(); });
    document.addEventListener('selectstart', e => { e.preventDefault(); });

    // --- Screenshot Blocker ---
    function blockScreenshot(){
      let el = document.getElementById('block-screenshot');
      el.classList.add('active');
      setTimeout(()=>el.classList.remove('active'), 2100);
    }

    // -- For screenshot key (PrintScreen), try to blur as much as possible --
    window.addEventListener('keyup', function(e){
      if(e.key === "PrintScreen") blockScreenshot();
    });

    // --- Optional: Prevent navigating away via tab switching (not 100% possible, but show warning) ---
    document.addEventListener('visibilitychange', function(){
      if(document.hidden) blockScreenshot();
    });

    // --- Subtle micro-glitch effect on text fields and bubbles (for Nemesis feel) ---
    setInterval(()=>{
      let ta = document.getElementById('input-area');
      if(document.activeElement === ta){
        ta.style.filter = 'drop-shadow(0 0 4px #ff006655)';
        setTimeout(()=>{ta.style.filter='';},200);
      }
    },1200);

    // Re-enable everything if resizing out of mobile and back
    window.addEventListener('resize', function(){
      checkDevice();
    });

    // Initial check for anti-cheat
    checkDevice();
  </script>
</body>
</html>
